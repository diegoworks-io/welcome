---
import BlueprintBg from './BlueprintBg.astro';
---

<div id="fluid-shell" class="min-h-screen h-screen flex items-center justify-center bg-black text-white relative overflow-hidden" role="region" aria-label="Fluid name container">
  <BlueprintBg />
  <div id="toggle-hint" class="absolute top-3 left-3 text-white/70 text-sm z-30 pointer-events-none">Click anywhere to toggle stage</div>

  <!-- Stage 1: single centered line (smaller boxed container) -->
  <div class="stage1-container flex flex-col items-center justify-center">
    <div class="stage-box stage1 relative w-[90vw] max-w-[1100px] p-4 rounded-md flex flex-col items-center justify-center gap-1 bg-transparent z-10">
    <div class="hero-wrap w-full flex items-center justify-center">
      <svg role="img" aria-label="Diego González" viewBox="0 0 1000 1000" preserveAspectRatio="xMidYMid meet" class="w-full h-auto overflow-visible max-h-[36vh] md:max-h-[34vh]">
        <g>
            <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" class="hero-text text-[clamp(64px,16vw,220px)] font-extrabold tracking-tight" fill="currentColor">Diego González</text>
          </g>
      </svg>
    </div>
      <!-- subtitle (absolute, positioned slightly below the name) -->
      <div class="subtitle absolute left-1/2 top-[64%] md:top-[62%] -translate-x-1/2 -translate-y-0 text-center text-base md:text-lg text-white/80">Product Engineer &amp; Systems Architect</div>
    </div>
  </div>

  <!-- Stage 2: two-column layout with name split into two rows, centered vertically -->
  <div class="stage-box stage2 absolute inset-0 grid place-items-center opacity-0 pointer-events-none transition-opacity duration-300 ease-out">
    <div class="two-col w-[90vw] max-w-[1200px] h-[60vh] grid grid-cols-2 gap-6">
      <div class="left-col flex flex-col items-start justify-center pr-6">
        <!-- subtitle for stage 2 (above the name) -->
        <div class="subtitle text-sm text-white/80 mb-4">Product Engineer &amp; Systems Architect</div>
        <div class="name-rows flex flex-col gap-2 items-start">
          <div class="row font-extrabold text-[clamp(36px,8vw,120px)] leading-none">Diego</div>
          <div class="row font-extrabold text-[clamp(36px,8vw,120px)] leading-none">González</div>
        </div>
        <nav class="mt-8 flex flex-col gap-2 items-start text-sm text-white/84">
          <a href="mailto:hello@diegoworks.io" class="hover:underline" aria-label="Email">hello@diegoworks.io</a>
          <a href="https://linkedin.com/in/diegoworksio" target="_blank" rel="noreferrer" class="hover:underline" aria-label="LinkedIn">LinkedIn</a>
          <a href="https://github.com/diegoworks-io" target="_blank" rel="noreferrer" class="hover:underline" aria-label="GitHub">GitHub</a>
        </nav>
      </div>
      <div class="right-col h-full">
        <div class="h-full w-full rounded-2xl border border-white/20 bg-white/[0.02]"></div>
      </div>
    </div>
  </div>

  <script>
  import { initFluidName } from '../scripts/fluidName'
  initFluidName()
</script>
</div>
